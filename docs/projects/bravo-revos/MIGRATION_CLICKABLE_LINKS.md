# DM Sequences Migration - Pre-filled Supabase Links (UPDATED - Fixed Triggers)

## Migration 1: dm_sequences table

Click this link - it will open Supabase with the SQL already populated:

**[→ CLICK HERE - Opens Supabase with dm_sequences SQL](https://supabase.com/dashboard/project/kvjcidxbyimoswntpjcp/sql/new?content=LS0gTWlncmF0aW9uOiBDcmVhdGUgRE0gU2VxdWVuY2VzIFRhYmxlCi0tIFByb2plY3Q6IEJyYXZvIHJldk9TIC0gTGlua2VkSW4gTGVhZCBHZW5lcmF0aW9uCi0tIFB1cnBvc2U6IFN0b3JlIGF1dG9tYXRlZCBETSBzZXF1ZW5jZSBjb25maWd1cmF0aW9ucyBmb3IgY2FtcGFpZ25zCgotLSBFbmFibGUgVVVJRCBleHRlbnNpb24gaWYgbm90IGFscmVhZHkgZW5hYmxlZApDUkVBVEUgRVhURU5TSU9OIElGIE5PVCBFWElTVFMgInV1aWQtb3NzcCI7CgotLSBDcmVhdGUgdXBkYXRlX3VwZGF0ZWRfYXRfY29sdW1uIGZ1bmN0aW9uIGlmIG5vdCBleGlzdHMKQ1JFQVRFIE9SIFJFUExBQ0UgRlVOQ1RJT04gdXBkYXRlX3VwZGF0ZWRfYXRfY29sdW1uKCkKUkVUVVJOUyBUUklHR0VSIEFTICQkCkJFR0lOCiAgTkVXLnVwZGF0ZWRfYXQgPSBOT1coKTsKICBSRVRVUk4gTkVXOwpFTkQ7CiQkIExBTkdVQUdFIHBscGdzcWw7CgotLSBETSBTZXF1ZW5jZXMgVGFibGUKQ1JFQVRFIFRBQkxFIElGIE5PVCBFWElTVFMgZG1fc2VxdWVuY2VzICgKICBpZCBVVUlEIFBSSU1BUlkgS0VZIERFRkFVTFQgdXVpZF9nZW5lcmF0ZV92NCgpLAogIGNhbXBhaWduX2lkIFVVSUQgTk9UIE5VTEwgUkVGRVJFTkNFUyBjYW1wYWlnbnMoaWQpIE9OIERFTEVURSBDQVNDQURFLAogIGNsaWVudF9pZCBVVUlEIE5PVCBOVUxMIFJFRkVSRU5DRVMgY2xpZW50cyhpZCkgT04gREVMRVRFIENBU0NBREUsCgogIC0tIE1ldGFkYXRhCiAgbmFtZSBWQVJDSEFSKDI1NSkgTk9UIE5VTEwsCiAgZGVzY3JpcHRpb24gVEVYVCwKICBzdGF0dXMgVkFSQ0hBUig1MCkgTk9UIE5VTEwgREVGQVVMVCAnYWN0aXZlJywgLS0gYWN0aXZlLCBwYXVzZWQsIGFyY2hpdmVkCgogIC0tIFN0ZXAgMTogSW5pdGlhbCBETQogIHN0ZXAxX3RlbXBsYXRlIFRFWFQgTk9UIE5VTEwsCiAgc3RlcDFfZGVsYXlfbWluIElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAyLCAtLSBtaW51dGVzCiAgc3RlcDFfZGVsYXlfbWF4IElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAxNSwgLS0gbWludXRlcwogIHZvaWNlX2NhcnRyaWRnZV9pZCBVVUlEIFJFRkVSRU5DRVMgY2FydHJpZGdlcyhpZCksCgogIC0tIFN0ZXAgMjogRW1haWwgY2FwdHVyZQogIHN0ZXAyX2F1dG9fZXh0cmFjdCBCT09MRUFOIE5PVCBOVUxMIERFRkFVTFQgdHJ1ZSwKICBzdGVwMl9jb25maXJtYXRpb25fdGVtcGxhdGUgVEVYVCBOT1QgTlVMTCBERUZBVUxUICdHb3QgaXQhIFNlbmRpbmcgeW91ciBsZWFkIG1hZ25ldCBub3cuLi4nLAoKICAtLSBTdGVwIDM6IEJhY2t1cCBETQogIHN0ZXAzX2VuYWJsZWQgQk9PTEVBTiBOT1QgTlVMTCBERUZBVUxUIHRydWUsCiAgc3RlcDNfZGVsYXkgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDUsIC0tIG1pbnV0ZXMKICBzdGVwM190ZW1wbGF0ZSBURVhUIE5PVCBOVUxMIERFRkFVTFQgJ0hlcmUnJ3MgeW91ciBkaXJlY3QgZG93bmxvYWQgbGluazoge3tkb3dubG9hZF91cmx9fScsCiAgc3RlcDNfbGlua19leHBpcnkgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDI0LCAtLSBob3VycwoKICAtLSBBbmFseXRpY3MKICBzZW50X2NvdW50IElOVEVHRVIgTk9UIE5VTEwgREVGQVVMVCAwLAogIHJlcGxpZWRfY291bnQgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsCiAgZW1haWxfY2FwdHVyZWRfY291bnQgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsCgogIGNyZWF0ZWRfYXQgVElNRVNUQU1QIFdJVEggVElNRSBaT05FIE5PVCBOVUxMIERFRkFVTFQgTk9XKCksCiAgdXBkYXRlZF9hdCBUSU1FU1RBTVAgV0lUSCBUSU1FIFpPTkUgTk9UIE5VTEwgREVGQVVMVCBOT1coKQopOwoKLS0gSW5kZXhlcwpDUkVBVEUgSU5ERVggaWR4X2RtX3NlcXVlbmNlc19jYW1wYWlnbiBPTiBkbV9zZXF1ZW5jZXMoY2FtcGFpZ25faWQpOwpDUkVBVEUgSU5ERVggaWR4X2RtX3NlcXVlbmNlc19jbGllbnQgT04gZG1fc2VxdWVuY2VzKGNsaWVudF9pZCk7CkNSRUFURSBJTkRFWCBpZHhfZG1fc2VxdWVuY2VzX3N0YXR1cyBPTiBkbV9zZXF1ZW5jZXMoc3RhdHVzKTsKCi0tIFJMUyBQb2xpY2llcwpBTFRFUiBUQUJMRSBkbV9zZXF1ZW5jZXMgRU5BQkxFIFJPVyBMRVZFTCBTRUNVUklUWTsKCkNSRUFURSBQT0xJQ1kgZG1fc2VxdWVuY2VzX2NsaWVudF9pc29sYXRpb24gT04gZG1fc2VxdWVuY2VzCiAgRk9SIEFMTAogIFVTSU5HIChjbGllbnRfaWQgPSAoU0VMRUNUIGNsaWVudF9pZCBGUk9NIHVzZXJzIFdIRVJFIGlkID0gYXV0aC51aWQoKSkpOwoKLS0gVXBkYXRlZF9hdCB0cmlnZ2VyCkRST1AgVFJJR0dFUiBJRiBFWElTVFMgZG1fc2VxdWVuY2VzX3VwZGF0ZWRfYXQgT04gZG1fc2VxdWVuY2VzOwpDUkVBVEUgVFJJR0dFUiBkbV9zZXF1ZW5jZXNfdXBkYXRlZF9hdAogIEJFRk9SRSBVUERBVEUgT04gZG1fc2VxdWVuY2VzCiAgRk9SIEVBQ0ggUk9XCiAgRVhFQ1VURSBGVU5DVElPTiB1cGRhdGVfdXBkYXRlZF9hdF9jb2x1bW4oKTsK)**

---

## Migration 2: dm_deliveries table

**[→ CLICK THIS LINK - Opens Supabase with dm_deliveries SQL](https://supabase.com/dashboard/project/kvjcidxbyimoswntpjcp/sql/new?content=LS0gTWlncmF0aW9uOiBDcmVhdGUgRE0gRGVsaXZlcmllcyBUYWJsZQotLSBQcm9qZWN0OiBCcmF2byByZXZPUyAtIExpbmtlZEluIExlYWQgR2VuZXJhdGlvbgotLSBQdXJwb3NlOiBUcmFjayBpbmRpdmlkdWFsIERNIHNlbmRzIGFuZCBkZWxpdmVyeSBzdGF0dXMKCi0tIEVuYWJsZSBVVUlEIGV4dGVuc2lvbiBpZiBub3QgYWxyZWFkeSBlbmFibGVkCkNSRUFURSBFWFRFTlNJT04gSUYgTk9UIEVYSVNUUyAidXVpZC1vc3NwIjsKCi0tIERNIERlbGl2ZXJpZXMgVGFibGUgKHRyYWNraW5nIGluZGl2aWR1YWwgc2VuZHMpCkNSRUFURSBUQUJMRSBJRiBOT1QgRVhJU1RTIGRtX2RlbGl2ZXJpZXMgKAogIGlkIFVVSUQgUFJJTUFSWSBLRVkgREVGQVVMVCB1dWlkX2dlbmVyYXRlX3Y0KCksCiAgc2VxdWVuY2VfaWQgVVVJRCBOT1QgTlVMTCBSRUZFUkVOQ0VTIGRtX3NlcXVlbmNlcyhpZCkgT04gREVMRVRFIENBU0NBREUsCiAgbGVhZF9pZCBVVUlEIE5PVCBOVUxMIFJFRkVSRU5DRVMgbGVhZHMoaWQpIE9OIERFTEVURSBDQVNDQURFLAoKICAtLSBEZWxpdmVyeSB0cmFja2luZwogIHN0ZXBfbnVtYmVyIElOVEVHRVIgTk9UIE5VTEwgQ0hFQ0sgKHN0ZXBfbnVtYmVyIElOICgxLCAyLCAzKSksCiAgc3RhdHVzIFZBUkNIQVIoNTApIE5PVCBOVUxMIERFRkFVTFQgJ3BlbmRpbmcnLCAtLSBwZW5kaW5nLCBzZW50LCBkZWxpdmVyZWQsIGZhaWxlZAogIHNlbnRfYXQgVElNRVNUQU1QIFdJVEggVElNRSBaT05FLAogIGRlbGl2ZXJlZF9hdCBUSU1FU1RBTVAgV0lUSCBUSU1FIFpPTkUsCiAgcmVwbGllZF9hdCBUSU1FU1RBTVAgV0lUSCBUSU1FIFpPTkUsCgogIC0tIENvbnRlbnQKICBtZXNzYWdlX2NvbnRlbnQgVEVYVCBOT1QgTlVMTCwKICB1bmlwaWxlX21lc3NhZ2VfaWQgVkFSQ0hBUigyNTUpLCAtLSBFeHRlcm5hbCBJRCBmcm9tIFVuaXBpbGUKCiAgLS0gRW1haWwgZXh0cmFjdGlvbiAoc3RlcCAyKQogIGVtYWlsX2V4dHJhY3RlZCBWQVJDSEFSKDI1NSksCiAgZXh0cmFjdGlvbl9jb25maWRlbmNlIEZMT0FULAogIGV4dHJhY3Rpb25fbWV0aG9kIFZBUkNIQVIoNTApLCAtLSByZWdleCwgZ3B0NG8sIG1hbnVhbAoKICAtLSBFcnJvcnMKICBlcnJvcl9tZXNzYWdlIFRFWFQsCiAgcmV0cnlfY291bnQgSU5URUdFUiBOT1QgTlVMTCBERUZBVUxUIDAsCiAgbGFzdF9yZXRyeV9hdCBUSU1FU1RBTVAgV0lUSCBUSU1FIFpPTkUsCgogIGNyZWF0ZWRfYXQgVElNRVNUQU1QIFdJVEggVElNRSBaT05FIE5PVCBOVUxMIERFRkFVTFQgTk9XKCksCiAgdXBkYXRlZF9hdCBUSU1FU1RBTVAgV0lUSCBUSU1FIFpPTkUgTk9UIE5VTEwgREVGQVVMVCBOT1coKQopOwoKLS0gSW5kZXhlcwpDUkVBVEUgSU5ERVggaWR4X2RtX2RlbGl2ZXJpZXNfc2VxdWVuY2UgT04gZG1fZGVsaXZlcmllcyhzZXF1ZW5jZV9pZCk7CkNSRUFURSBJTkRFWCBpZHhfZG1fZGVsaXZlcmllc19sZWFkIE9OIGRNX2RlbGl2ZXJpZXMobGVhZF9pZCk7CkNSRUFURSBJTkRFWCBpZHhfZG1fZGVsaXZlcmllc19zdGF0dXMgT04gZG1fZGVsaXZlcmllcyhzdGF0dXMpOwpDUkVBVEUgSU5ERVggaWR4X2RtX2RlbGl2ZXJpZXNfc3RlcCBPTiBkbV9kZWxpdmVyaWVzKHN0ZXBfbnVtYmVyKTsKQ1JFQVRFIElOREVYIGlkeF9kbV9kZWxpdmVyaWVzX3NlbnRfYXQgT04gZG1fZGVsaXZlcmllcyhzZW50X2F0KTsKCi0tIFJMUyBQb2xpY2llcwpBTFRFUiBUQUJMRSBkbV9kZWxpdmVyaWVzIEVOQUJMRSBST1cgTEVWRUwgU0VDVVJJVFk7CgpDUkVBVEUgUE9MSUNZIGRtX2RlbGl2ZXJpZXNfY2xpZW50X2lzb2xhdGlvbiBPTiBkbV9kZWxpdmVyaWVzCiAgRk9SIEFMTAogIFVTSU5HICgKICAgIHNlcXVlbmNlX2lkIElOICgKICAgICAgU0VMRUNUIGlkIEZST00gZG1fc2VxdWVuY2VzIFdIRVJFIGNsaWVudF9pZCA9ICgKICAgICAgICBTRUxFQ1QgY2xpZW50X2lkIEZST00gdXNlcnMgV0hFUkUgaWQgPSBhdXRoLnVpZCgpCiAgICAgICkKICAgICkKICApOwoKLS0gVXBkYXRlZF9hdCB0cmlnZ2VyCkRST1AgVFJJR0dFUiBJRiBFWElTVFMgZG1fZGVsaXZlcmllc191cGRhdGVkX2F0IE9OIGRtX2RlbGl2ZXJpZXM7CkNSRUFURSBUUklHR0VSIGRtX2RlbGl2ZXJpZXNfdXBkYXRlZF9hdAogIEJFRk9SRSBVUERBVEUgT04gZG1fZGVsaXZlcmllcwogIEZPUiBFQUNIIFJPVwogIEVYRUNVVEUgRlVOQ1RJT04gdXBkYXRlX3VwZGF0ZWRfYXRfY29sdW1uKCk7Cg==)**

---

## What Changed?

Added `DROP TRIGGER IF EXISTS` before each `CREATE TRIGGER` to prevent "trigger already exists" errors. Now safe to run multiple times.

## If links don't work

If the pre-filled links don't work in your CLI, here's the manual process:

1. Open: https://supabase.com/dashboard/project/kvjcidxbyimoswntpjcp/sql/new
2. Copy the SQL from the migration files
3. Paste and run
